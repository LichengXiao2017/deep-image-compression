# Run this script at directory deep-image-compression/, with command:
# '''bin/model_inference_compress_balle2018'''

# Inference Balle2018 model and compress image
TEST_DATA_PATH=/path/to/test/image.png
MODEL_PATH="./model/balle2018"
NUM_FILTERS=192
LAMBDA=0.01
PREPROCESS_THREADS=16
TRAIN_BATCH_SIZE=8
MAX_TRAIN_STEPS=1000000
export CUDA_VISIBLE_DEVICES=0

python3 balle2018.py \
--num_filters ${NUM_FILTERS} \
--checkpoint_dir ${MODEL_PATH} \
compress \
--input_file ${TEST_DATA_PATH}
